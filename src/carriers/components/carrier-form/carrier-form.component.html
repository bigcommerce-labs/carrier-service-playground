<div class="carrier-form">
    <h1>{{ carrierName }}</h1>
    <form [formGroup]="form">

        <div class="form-field">
            <label class="form-label">Name</label>
            <input
                class="form-input"
                type="text"
                formControlName="name"
                placeholder="Name of Carrier">
            <div class="error"
                *ngIf="form.get('name').hasError('required') && form.get('name').touched">
                Meal name is required
            </div>
        </div>

        <div class="form-field">
            <label class="form-label">Description</label>
            <input
                class="form-input"
                type="text"
                formControlName="description"
                placeholder="Carrier Description">
            <div class="error"
                *ngIf="form.get('description').hasError('required') && form.get('description').touched">
                Description is required
            </div>
        </div>

        <div class="form-field">
            <label for="imageUpload" class="upload-button ">
                <input
                    class="form-input"
                    type="file"
                    (change)="uploadImage($event)"
                    name="imageUpload"
                    id="imageUpload"/>
                {{ !uploading ? '+ Add Image' : 'Uploading Image...'}}
            </label>
    
            <img
                *ngIf="this.form.get('logo_url').value.length > 0"
                class="carrier-logo"
                [src]="this.form.get('logo_url').value" alt="Carrier Logo">            
        </div>

        <div class="form-field">
            <label class="form-label">Logo URL</label>
            <input
                class="form-input"
                type="text"
                disabled
                formControlName="logo_url"
                placeholder="Carrier Logo">
            <div class="error"
                *ngIf="form.get('logo_url').hasError('required') && form.get('logo_url').touched">
                Logo Url is required
            </div>
            <div class="error"
                *ngIf="this.form.get('logo_url').hasError('invalidUrl') && form.get('logo_url').touched">
                Invalid URL
            </div>
        </div>

        <div class="form-field has-checkbox">
            <label class="form-label">Public</label>
            <input
                class="form-checkbox"
                type="checkbox"
                formControlName="is_public">
        </div>

        <div class="form-actions">
            <button class="form-button"
                *ngIf="carrier"
                (click)="updateCarrier()">
                    Update
            </button>

            <button class="form-button"
                *ngIf="!carrier"
                (click)="createCarrier()">
                    Create
            </button>

            <button class="form-button"
                (click)="cancel()">
                    Cancel
            </button>
        </div>
    </form>
</div>


<!-- <label for="imageUpload">Image Upload</label>
<input type="file" (change)="test($event)" name="imageUpload" id="imageUpload"/>

<img [src]="imageSrc" alt=""> -->